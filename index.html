<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="theme-color" content="#EFEEE9" media="(prefers-color-scheme: light)">
    <meta name="theme-color" content="#1C1917" media="(prefers-color-scheme: dark)">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Log√≠stica Lakeness - Inventario Nexxus</title>
    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="css/styles.css">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = { darkMode: 'class', theme: { extend: { colors: { lake: { light: '#EFEEE9', dark: '#1C1917' } }, animation: { 'spin-slow': 'spin 8s linear infinite' }, screens: { 'xs': '375px' } } } };
        try { const savedTheme = localStorage.getItem('lake_theme_preference'); const systemDark = window.matchMedia('(prefers-color-scheme: dark)').matches; if (savedTheme === 'dark' || (!savedTheme && systemDark)) { document.documentElement.classList.add('dark'); } else { document.documentElement.classList.remove('dark'); } } catch (e) { }
    </script>
    <script src="https://cdn.jsdelivr.net/npm/xlsx-js-style@1.2.0/dist/xlsx.bundle.js"></script>
</head>

<body
    class="bg-lake-light dark:bg-lake-dark text-stone-600 dark:text-stone-300 selection:bg-indigo-100 selection:text-indigo-900 transition-colors duration-500 overscroll-none touch-manipulation">
    <div id="root"></div>
    <script>
        const DOCK_COUNT = 18, YARD_COUNT = 20, SHIFTS = [1, 2, 3], STORAGE_KEY = 'lake_logistica_inventory_v22_responsive_fix', THEME_KEY = 'lake_theme_preference', SIZES = ['53', '48', '40', '3.5'], DOCK_STATUSES = ['Vac√≠a', 'Enrampada', 'Frenteada', 'Cargada'], YARD_STATUSES = ['Vac√≠a', 'Cargada'], emptySlotData = { id: '', number: 0, type: 'docks', size: '', eco: '', line: '', status: 'Vac√≠a', sealLeft: '', sealRight: '', observations: '', updatedAt: null };
        const generateInitialData = () => ({ 1: { docks: Array(DOCK_COUNT).fill(null).map((_, i) => ({ ...emptySlotData, id: `D1-${i + 1}`, number: i + 1, type: 'docks' })), yard: Array(YARD_COUNT).fill(null).map((_, i) => ({ ...emptySlotData, id: `Y1-${i + 1}`, number: i + 1, type: 'yard' })) }, 2: { docks: Array(DOCK_COUNT).fill(null).map((_, i) => ({ ...emptySlotData, id: `D2-${i + 1}`, number: i + 1, type: 'docks' })), yard: Array(YARD_COUNT).fill(null).map((_, i) => ({ ...emptySlotData, id: `Y2-${i + 1}`, number: i + 1, type: 'yard' })) }, 3: { docks: Array(DOCK_COUNT).fill(null).map((_, i) => ({ ...emptySlotData, id: `D3-${i + 1}`, number: i + 1, type: 'docks' })), yard: Array(YARD_COUNT).fill(null).map((_, i) => ({ ...emptySlotData, id: `Y3-${i + 1}`, number: i + 1, type: 'yard' })) } });
        const exportToExcel = (inventory, currentShift) => { if (!window.XLSX) return alert("Cargando..."); const wb = window.XLSX.utils.book_new(); const borderStyle = { top: { style: "thin" }, bottom: { style: "thin" }, left: { style: "thin" }, right: { style: "thin" } }; const titleStyle = { font: { bold: true, sz: 14, name: "Calibri" }, alignment: { horizontal: "left" } }; const headerStyle = { font: { bold: true, sz: 11, name: "Calibri" }, fill: { fgColor: { rgb: "E0E0E0" } }, border: borderStyle, alignment: { horizontal: "center", vertical: "center" } }; const dataStyle = { font: { sz: 11, name: "Calibri" }, border: borderStyle, alignment: { horizontal: "center", vertical: "center" } }; const separatorStyle = { font: { bold: true, sz: 11, name: "Calibri" } }; const currentData = inventory[currentShift]; const wsData = [[{ v: "Inventario Nexxus", s: titleStyle }]]; wsData.push(["Ubicaci√≥n", "FT", "Eco.", "L√≠nea", "Sello #1", "Sello #2", "Status", "Observaciones"].map(h => ({ v: h, s: headerStyle }))); currentData.docks.forEach(slot => { const isFrenteada = (slot.status || '').toLowerCase() === 'frenteada'; const show = !isFrenteada; wsData.push([{ v: `And√©n ${slot.number}`, s: dataStyle }, { v: show ? slot.size : '', s: dataStyle }, { v: show ? slot.eco : '', s: dataStyle }, { v: show ? slot.line : '', s: dataStyle }, { v: show ? slot.sealLeft : '', s: dataStyle }, { v: show ? slot.sealRight : '', s: dataStyle }, { v: show && slot.status !== 'Vac√≠a' ? (slot.status + '.') : '', s: dataStyle }, { v: show ? slot.observations : '', s: dataStyle }]); }); const sepRow = new Array(8).fill({ v: "", s: {} }); sepRow[1] = { v: "Frenteada", s: separatorStyle }; wsData.push(sepRow); currentData.docks.forEach(slot => { const isFrenteada = (slot.status || '').toLowerCase() === 'frenteada'; wsData.push([{ v: `Frenteada ${slot.number}`, s: dataStyle }, { v: isFrenteada ? slot.size : '', s: dataStyle }, { v: isFrenteada ? slot.eco : '', s: dataStyle }, { v: isFrenteada ? slot.line : '', s: dataStyle }, { v: isFrenteada ? slot.sealLeft : '', s: dataStyle }, { v: isFrenteada ? slot.sealRight : '', s: dataStyle }, { v: isFrenteada ? (slot.status + '.') : '', s: dataStyle }, { v: isFrenteada ? slot.observations : '', s: dataStyle }]); }); const sepRow2 = new Array(8).fill({ v: "", s: {} }); sepRow2[1] = { v: "Patio", s: separatorStyle }; wsData.push(sepRow2); currentData.yard.forEach(slot => { wsData.push([{ v: `Patio ${slot.number}`, s: dataStyle }, { v: slot.size, s: dataStyle }, { v: slot.eco, s: dataStyle }, { v: slot.line, s: dataStyle }, { v: slot.sealLeft, s: dataStyle }, { v: slot.sealRight, s: dataStyle }, { v: slot.status !== 'Vac√≠a' ? (slot.status + '.') : '', s: dataStyle }, { v: slot.observations, s: dataStyle }]); }); const ws = window.XLSX.utils.aoa_to_sheet(wsData); ws['!cols'] = [{ wch: 15 }, { wch: 6 }, { wch: 12 }, { wch: 15 }, { wch: 12 }, { wch: 12 }, { wch: 15 }, { wch: 30 }]; window.XLSX.utils.book_append_sheet(wb, ws, "Inventario"); window.XLSX.writeFile(wb, `Inventario Nexxus - ${new Date().toLocaleDateString('es-MX', { day: 'numeric', month: 'long' })}.xlsx`); };
        const processSheetImport = (wb, sheetName, inventory, currentShift, setInventory, triggerSaveFeedback) => { try { const data = window.XLSX.utils.sheet_to_json(wb.Sheets[sheetName], { header: "A", defval: "" }); const newInventory = JSON.parse(JSON.stringify(inventory)); let countDocks = 0, countYard = 0; const resolveStatus = (raw, s1, s2, eco, allowed) => { let c = (raw || '').toString().replace(/\.$/, '').trim(); if (c) c = c.charAt(0).toUpperCase() + c.slice(1).toLowerCase(); if (allowed.includes(c)) return c; if (s1 || s2) return 'Cargada'; if (eco && allowed.includes('Cargada')) return 'Cargada'; return 'Vac√≠a'; }; data.forEach(r => { const u = (r['A'] || '').toString().trim().toLowerCase().normalize("NFD").replace(/[\u0300-\u036f]/g, ""); if (!u) return; const s1 = (r['E'] || '').toString(), s2 = (r['F'] || '').toString(), eco = (r['C'] || '').toString(); const common = { size: (r['B'] || '').toString(), eco, line: (r['D'] || '').toString(), sealLeft: s1, sealRight: s2, observations: (r['H'] || '').toString() }; if (u.includes('anden')) { const n = parseInt(u.replace(/[^0-9]/g, '')); if (n > 0 && n <= DOCK_COUNT) { newInventory[currentShift].docks[n - 1] = { ...newInventory[currentShift].docks[n - 1], ...common, status: resolveStatus(r['G'], s1, s2, eco, DOCK_STATUSES) }; countDocks++; } } else if (u.includes('frenteada') || u.includes('patio')) { const n = parseInt(u.replace(/[^0-9]/g, '')); if (n > 0 && n <= YARD_COUNT) { if (eco || s1 || s2 || common.size) { newInventory[currentShift].yard[n - 1] = { ...newInventory[currentShift].yard[n - 1], ...common, status: resolveStatus(r['G'], s1, s2, eco, YARD_STATUSES) }; countYard++; } } } }); setInventory(newInventory); alert(`‚úÖ Hoja "${sheetName}" importada.\n\nüì¶ Andenes: ${countDocks}\nüöö Patio: ${countYard}`); triggerSaveFeedback(); } catch (e) { console.error(e); alert("Error procesando la hoja."); } };
        const LucideIcon = ({ name, size = 18, className = '' }) => { const ref = React.useRef(null); React.useEffect(() => { if (ref.current && lucide.icons[name]) { ref.current.innerHTML = ''; const svg = lucide.icons[name].toSvg({ width: size, height: size, class: className }); ref.current.innerHTML = svg; } }, [name, size, className]); return React.createElement('span', { ref, className: `inline-flex ${className}` }); };
        const SlotCard = ({ data, onClick, index, type }) => { const statusNorm = (data.status || '').toLowerCase().replace('.', '').trim(); const isOccupied = statusNorm !== 'vac√≠a' && statusNorm !== ''; let cardStyle = "bg-white dark:bg-stone-800 border-2 border-transparent dark:border-stone-700/50 shadow-sm hover:border-indigo-200 dark:hover:border-indigo-500/30 text-stone-400 dark:text-stone-500 hover:shadow-lg dark:hover:shadow-black/40"; let iconColor = "text-stone-300 dark:text-stone-600"; let statusBadge = "bg-stone-100 dark:bg-stone-700 text-stone-500 dark:text-stone-400 border border-stone-200 dark:border-stone-600"; if (statusNorm === 'cargada') { cardStyle = "bg-white dark:bg-rose-900/10 border-2 border-rose-100 dark:border-rose-900/30 text-rose-700 dark:text-rose-400 hover:shadow-lg hover:shadow-rose-200/50"; iconColor = "text-rose-400"; statusBadge = "bg-rose-50 dark:bg-rose-900/30 text-rose-600 dark:text-rose-300 border border-rose-100"; } if (statusNorm === 'frenteada') { cardStyle = "bg-white dark:bg-amber-900/10 border-2 border-amber-100 dark:border-amber-900/30 text-amber-700 dark:text-amber-400 hover:shadow-lg hover:shadow-amber-200/50"; iconColor = "text-amber-400"; statusBadge = "bg-amber-50 dark:bg-amber-900/30 text-amber-600 dark:text-amber-300 border border-amber-100"; } if (statusNorm === 'enrampada') { cardStyle = "bg-white dark:bg-sky-900/10 border-2 border-sky-100 dark:border-sky-900/30 text-sky-700 dark:text-sky-400 hover:shadow-lg hover:shadow-sky-200/50"; iconColor = "text-sky-400"; statusBadge = "bg-sky-50 dark:bg-sky-900/30 text-sky-600 dark:text-sky-300 border border-sky-100"; } if (statusNorm === 'vac√≠a' && (data.eco || data.line)) { cardStyle = "bg-white dark:bg-emerald-900/10 border-2 border-emerald-100 dark:border-emerald-900/30 text-emerald-700 dark:text-emerald-400 hover:shadow-lg hover:shadow-emerald-200/50"; iconColor = "text-emerald-400"; statusBadge = "bg-emerald-50 dark:bg-emerald-900/30 text-emerald-500 dark:text-emerald-300 border border-emerald-100"; } const delayStyle = { animationDelay: `${(index % 10) * 50}ms` }; let ecoText = 'Disponible'; if (data.eco) ecoText = `ECO ${data.eco}`; else if (isOccupied) ecoText = 'Sin econ√≥mico'; return React.createElement('div', { style: delayStyle, onClick: () => onClick(index, type), className: `relative p-4 rounded-[1.5rem] transition-all duration-500 ease-out cursor-pointer active:scale-95 flex flex-col justify-between h-36 sm:h-44 group animate-slide-up hover-float ${cardStyle}` }, [React.createElement('div', { key: 'header', className: "flex justify-between items-start" }, [React.createElement('div', { key: 'info', className: "flex flex-col" }, [React.createElement('span', { key: 'num', className: "font-black text-2xl sm:text-3xl tracking-tighter opacity-90 transition-transform group-hover:scale-105 origin-left text-stone-700 dark:text-stone-200" }, type === 'docks' ? `${data.number}` : `P${data.number}`), React.createElement('span', { key: 'label', className: "text-[9px] sm:text-[10px] uppercase tracking-widest font-bold opacity-50 mt-0.5" }, type === 'docks' ? 'And√©n' : 'Patio')]), React.createElement('div', { key: 'icon', className: `p-2 rounded-xl bg-stone-50 dark:bg-stone-900/50 ${iconColor} transition-transform group-hover:scale-110 duration-300` }, React.createElement(LucideIcon, { name: isOccupied ? 'truck' : 'box', size: 18 }))]), React.createElement('div', { key: 'details', className: "space-y-1" }, [React.createElement('div', { key: 'eco', className: "text-sm sm:text-base font-bold truncate opacity-90 dark:opacity-100" }, ecoText), data.line && React.createElement('div', { key: 'line', className: "text-[10px] sm:text-xs font-bold uppercase truncate opacity-60 dark:opacity-70 flex items-center gap-1" }, [React.createElement('span', { className: "w-1 h-1 rounded-full bg-current opacity-40" }), data.line]), React.createElement('div', { key: 'status', className: `text-[9px] sm:text-[10px] font-extrabold px-2.5 py-1 rounded-full w-fit tracking-wide transition-all duration-300 ${statusBadge} mt-1.5` }, (data.status || 'Sin Asignar').toUpperCase())]), (statusNorm === 'cargada' || statusNorm === 'frenteada') && React.createElement('div', { key: 'alert', className: "absolute top-3 right-3 transition-all duration-300 group-hover:scale-125" }, React.createElement(LucideIcon, { name: data.sealRight ? 'check-circle' : 'alert-triangle', size: 16, className: data.sealRight ? 'text-emerald-500' : 'text-rose-500' }))]); };
        function App() {
            const [inventory, setInventory] = React.useState(() => { try { if (typeof window !== 'undefined' && window.localStorage) { const savedData = localStorage.getItem(STORAGE_KEY); if (savedData) return JSON.parse(savedData); } } catch (error) { console.error(error); } return generateInitialData(); }); const [isDarkMode, setIsDarkMode] = React.useState(() => document.documentElement.classList.contains('dark')); const [settingsOpen, setSettingsOpen] = React.useState(false); const [isClosingSettings, setIsClosingSettings] = React.useState(false); const [cleanerOpen, setCleanerOpen] = React.useState(false); const [isClosingCleaner, setIsClosingCleaner] = React.useState(false); const [currentShift, setCurrentShift] = React.useState(1); const [activeTab, setActiveTab] = React.useState('docks'); const [modalOpen, setModalOpen] = React.useState(false); const [isClosingModal, setIsClosingModal] = React.useState(false); const [editingSlot, setEditingSlot] = React.useState(null); const [formData, setFormData] = React.useState(emptySlotData); const [sheetSelectorOpen, setSheetSelectorOpen] = React.useState(false); const [sheetList, setSheetList] = React.useState([]); const [tempWorkbook, setTempWorkbook] = React.useState(null); const fileInputRef = React.useRef(null); const [isOnline, setIsOnline] = React.useState(navigator.onLine); const [showSaveToast, setShowSaveToast] = React.useState(false); const [isClosingToast, setIsClosingToast] = React.useState(false); const [saveMessage, setSaveMessage] = React.useState("Guardado"); React.useEffect(() => { try { if (window.localStorage) localStorage.setItem(STORAGE_KEY, JSON.stringify(inventory)); } catch (e) { } }, [inventory]); React.useEffect(() => { const handleState = () => setIsOnline(navigator.onLine); window.addEventListener('online', handleState); window.addEventListener('offline', handleState); return () => { window.removeEventListener('online', handleState); window.removeEventListener('offline', handleState); } }, []); const toggleTheme = () => { const html = document.documentElement; if (html.classList.contains('dark')) { html.classList.remove('dark'); localStorage.setItem(THEME_KEY, 'light'); setIsDarkMode(false); } else { html.classList.add('dark'); localStorage.setItem(THEME_KEY, 'dark'); setIsDarkMode(true); } }; const closeModalAnimated = () => { setIsClosingModal(true); setTimeout(() => { setModalOpen(false); setIsClosingModal(false); }, 280); }; const closeSettingsAnimated = () => { setIsClosingSettings(true); setTimeout(() => { setSettingsOpen(false); setIsClosingSettings(false); }, 280); }; const closeCleanerAnimated = () => { setIsClosingCleaner(true); setTimeout(() => { setCleanerOpen(false); setIsClosingCleaner(false); }, 280); }; const triggerSaveFeedback = (msg = "Guardado") => { setSaveMessage(msg); setShowSaveToast(true); setIsClosingToast(false); setTimeout(() => { setIsClosingToast(true); setTimeout(() => { setShowSaveToast(false); setIsClosingToast(false); }, 300); }, 2000); }; const handleClean = (scope, shift = null, type = null) => { const newInventory = JSON.parse(JSON.stringify(inventory)); const freshData = generateInitialData(); if (scope === 'all') { setInventory(freshData); } else if (scope === 'shift') { if (type === 'all' || type === 'docks') newInventory[shift].docks = freshData[shift].docks; if (type === 'all' || type === 'yard') newInventory[shift].yard = freshData[shift].yard; setInventory(newInventory); } closeCleanerAnimated(); triggerSaveFeedback("Limpieza Completada"); }; const handleSlotClick = (index, type) => { const data = inventory[currentShift][type][index]; setEditingSlot({ index, type }); setFormData({ ...data }); setModalOpen(true); }; const handleInputChange = (e) => { const { name, value } = e.target; setFormData(prev => ({ ...prev, [name]: value })); }; const validateForm = () => { const statusNorm = (formData.status || '').toLowerCase(); if ((statusNorm === 'frenteada' || statusNorm === 'cargada') && !formData.sealRight) { alert("‚ö†Ô∏è ¬°Atenci√≥n Lake!\n\nEl Sello Derecho (#2) es obligatorio."); return false; } return true; }; const handleSave = () => { if (!validateForm()) return; const updatedData = { ...formData, updatedAt: new Date().toISOString() }; const newInventory = JSON.parse(JSON.stringify(inventory)); newInventory[currentShift][editingSlot.type][editingSlot.index] = updatedData; setInventory(newInventory); closeModalAnimated(); triggerSaveFeedback(); }; const handleClearSlot = () => { const newInventory = JSON.parse(JSON.stringify(inventory)); const originalId = newInventory[currentShift][editingSlot.type][editingSlot.index].id; newInventory[currentShift][editingSlot.type][editingSlot.index] = { ...emptySlotData, id: originalId, number: formData.number, type: editingSlot.type }; setInventory(newInventory); closeModalAnimated(); triggerSaveFeedback("Espacio Liberado"); }; const handleImportClick = () => fileInputRef.current.click(); const handleFileChange = (e) => { const file = e.target.files[0]; if (!file) return; const reader = new FileReader(); reader.onload = (evt) => { try { const wb = window.XLSX.read(evt.target.result, { type: 'binary' }); if (wb.SheetNames.length > 1) { setTempWorkbook(wb); setSheetList(wb.SheetNames); setSheetSelectorOpen(true); } else { processSheetImport(wb, wb.SheetNames[0], inventory, currentShift, setInventory, triggerSaveFeedback); } } catch (e) { console.error(e); alert("‚ùå Error archivo"); } }; reader.readAsBinaryString(file); e.target.value = ''; }; const handleSheetSelection = (sheetName) => { if (tempWorkbook) { processSheetImport(tempWorkbook, sheetName, inventory, currentShift, setInventory, triggerSaveFeedback); setSheetSelectorOpen(false); setTempWorkbook(null); } }; const currentDocks = inventory[currentShift].docks; const currentYard = inventory[currentShift].yard; const inputClass = "w-full px-5 py-4 bg-stone-100/50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 focus:bg-white dark:focus:bg-stone-950 border border-stone-200 dark:border-stone-700 rounded-2xl text-stone-700 dark:text-stone-200 font-bold ring-4 ring-transparent focus:ring-indigo-100 dark:focus:ring-indigo-900/30 outline-none transition-all placeholder:text-stone-300 dark:placeholder:text-stone-600"; const selectClass = "w-full px-5 py-4 bg-stone-100/50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 focus:bg-white dark:focus:bg-stone-950 border border-stone-200 dark:border-stone-700 rounded-2xl text-stone-700 dark:text-stone-200 font-bold ring-4 ring-transparent focus:ring-indigo-100 dark:focus:ring-indigo-900/30 outline-none appearance-none cursor-pointer transition-all pr-12";
            return React.createElement('div', { className: "min-h-screen pb-32 animate-fade-in" }, [showSaveToast && React.createElement('div', { key: 'toast', className: `fixed bottom-6 left-1/2 -translate-x-1/2 z-50 bg-stone-800 dark:bg-stone-200 text-white dark:text-stone-900 px-6 py-3 rounded-full shadow-xl flex items-center gap-2 ${isClosingToast ? 'animate-scale-out' : 'animate-bounce-in'}` }, [React.createElement(LucideIcon, { name: 'check-circle', size: 20, className: "text-emerald-400" }), React.createElement('span', { className: "font-bold text-sm" }, saveMessage)]), React.createElement('header', { key: 'header', className: "sticky top-0 sm:top-4 z-40 px-2 sm:px-4 mb-6 sm:mb-8 pt-2 sm:pt-0" }, React.createElement('div', { className: "max-w-6xl mx-auto bg-white/90 dark:bg-stone-900/90 backdrop-blur-xl shadow-lg rounded-3xl sm:rounded-[2.5rem] border border-white/50 dark:border-stone-700/50 px-4 py-3 sm:px-6 sm:py-4 animate-slide-in-right delay-0 transition-colors duration-500" }, [React.createElement('div', { key: 'top', className: "flex flex-col gap-4" }, [React.createElement('div', { key: 'title-row', className: "flex items-center justify-between" }, [React.createElement('div', { key: 'left', className: "flex items-center gap-3" }, [React.createElement('div', { key: 'icon', onClick: () => setCleanerOpen(true), className: "bg-indigo-600 cursor-pointer hover:bg-indigo-700 text-white p-2.5 rounded-xl shadow-md shadow-indigo-200 dark:shadow-indigo-900/50 hover-float transition-all" }, React.createElement(LucideIcon, { name: 'clipboard-list', size: 20 })), React.createElement('div', { key: 'text' }, [React.createElement('h1', { key: 'h1', className: "text-lg font-bold text-stone-800 dark:text-stone-100 tracking-tight flex items-center gap-2 leading-tight" }, ["Log√≠stica Lakeness", !isOnline && React.createElement('span', { key: 'off', className: "flex items-center gap-1 text-[9px] bg-rose-100 text-rose-600 px-1.5 py-0.5 rounded-full animate-pulse" }, [React.createElement(LucideIcon, { name: 'wifi-off', size: 8 }), "Off"])]), React.createElement('p', { key: 'p', className: "text-[10px] font-medium text-stone-400 dark:text-stone-500" }, isOnline ? 'Modo Nexxus' : 'Modo Local')])]), React.createElement('div', { key: 'btns', className: "flex gap-1.5 items-center" }, [React.createElement('button', { key: 'clean', onClick: () => setCleanerOpen(true), className: "p-2.5 rounded-xl bg-red-50 dark:bg-red-900/20 text-red-500 hover:bg-red-100 dark:hover:bg-red-900/40 transition-all active:scale-95 hover-float" }, React.createElement(LucideIcon, { name: 'eraser', size: 18 })), React.createElement('button', { key: 'theme', onClick: toggleTheme, className: "p-2.5 rounded-xl bg-amber-100 dark:bg-indigo-900/30 text-amber-600 dark:text-indigo-300 transition-all active:scale-95 hover-float" }, React.createElement(LucideIcon, { name: isDarkMode ? 'moon' : 'sun', size: 18 })), React.createElement('button', { key: 'import', onClick: handleImportClick, className: "p-2.5 rounded-xl bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-300 transition-all active:scale-95 hover-float" }, [React.createElement(LucideIcon, { name: 'upload', size: 18 }), React.createElement('input', { type: "file", accept: ".xlsx,.csv", ref: fileInputRef, onChange: handleFileChange, className: "hidden" })]), React.createElement('button', { key: 'export', onClick: () => exportToExcel(inventory, currentShift), className: "p-2.5 rounded-xl bg-green-600 text-white shadow-md shadow-green-200 dark:shadow-green-900/40 transition-all active:scale-95 hover-float" }, React.createElement(LucideIcon, { name: 'file-spreadsheet', size: 18 })), React.createElement('button', { key: 'settings', onClick: () => setSettingsOpen(true), className: "p-2.5 rounded-xl bg-stone-200 dark:bg-stone-700 text-stone-600 dark:text-stone-300 transition-all active:scale-95 hover-float" }, React.createElement(LucideIcon, { name: 'settings', size: 18 }))])]), React.createElement('div', { key: 'shifts', className: "flex items-center gap-2 overflow-x-auto no-scrollbar pb-1" }, SHIFTS.map((shift, idx) => React.createElement('button', { key: shift, onClick: () => setCurrentShift(shift), style: { animationDelay: `${idx * 100}ms` }, className: `px-4 py-2 rounded-xl text-xs font-bold whitespace-nowrap transition-all duration-300 animate-slide-in-right ${currentShift === shift ? 'bg-stone-800 dark:bg-stone-200 text-white dark:text-stone-900 shadow-md scale-105' : 'bg-stone-100 dark:bg-stone-800 text-stone-500 dark:text-stone-400 hover:bg-stone-200 dark:hover:bg-stone-700'}` }, `Turno ${shift}`)))]), React.createElement('div', { key: 'tabs', className: "grid grid-cols-2 gap-2 mt-4 bg-stone-100 dark:bg-stone-800/50 p-1 rounded-2xl animate-scale-in delay-200" }, [React.createElement('button', { key: 'docks', onClick: () => setActiveTab('docks'), className: `py-2.5 rounded-xl text-xs font-bold transition-all duration-300 ${activeTab === 'docks' ? 'bg-white dark:bg-stone-700 text-stone-800 dark:text-white shadow-sm scale-100' : 'text-stone-400 hover:text-stone-600 scale-95'}` }, "Andenes (18)"), React.createElement('button', { key: 'yard', onClick: () => setActiveTab('yard'), className: `py-2.5 rounded-xl text-xs font-bold transition-all duration-300 ${activeTab === 'yard' ? 'bg-white dark:bg-stone-700 text-stone-800 dark:text-white shadow-sm scale-100' : 'text-stone-400 hover:text-stone-600 scale-95'}` }, "Patio de Maniobras (20)")])])), React.createElement('main', { key: 'main', className: "max-w-6xl mx-auto px-4 pb-24" }, activeTab === 'docks' ? React.createElement('div', { key: 'docks-view', className: "space-y-8 animate-fade-in" }, [React.createElement('section', { key: 'galleta', className: "animate-slide-up" }, [React.createElement('div', { key: 'head', className: "flex items-center gap-3 mb-4 px-2" }, [React.createElement('span', { className: "flex items-center justify-center w-8 h-8 rounded-xl bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-300 font-bold text-xs shadow-sm" }, "G"), React.createElement('h2', { className: "text-lg font-bold text-stone-700 dark:text-stone-200 tracking-tight" }, "Zona Galleta")]), React.createElement('div', { key: 'grid', className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3" }, currentDocks.slice(0, 10).map((slot, idx) => React.createElement(SlotCard, { key: slot.id, index: idx, type: "docks", data: slot, onClick: handleSlotClick })))]), React.createElement('section', { key: 'salado', className: "animate-slide-up delay-100" }, [React.createElement('div', { key: 'head', className: "flex items-center gap-3 mb-4 px-2" }, [React.createElement('span', { className: "flex items-center justify-center w-8 h-8 rounded-xl bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-300 font-bold text-xs shadow-sm" }, "S"), React.createElement('h2', { className: "text-lg font-bold text-stone-700 dark:text-stone-200 tracking-tight" }, "Zona Salado")]), React.createElement('div', { key: 'grid', className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3" }, currentDocks.slice(10, 18).map((slot, idx) => React.createElement(SlotCard, { key: slot.id, index: idx + 10, type: "docks", data: slot, onClick: handleSlotClick })))])]) : React.createElement('div', { key: 'yard-view', className: "animate-fade-in" }, [React.createElement('div', { key: 'head', className: "flex items-center gap-3 mb-4 px-2" }, [React.createElement('span', { className: "flex items-center justify-center w-8 h-8 rounded-xl bg-purple-100 dark:bg-purple-900/30 text-purple-600 dark:text-purple-300 font-bold text-xs shadow-sm" }, "P"), React.createElement('h2', { className: "text-lg font-bold text-stone-700 dark:text-stone-200 tracking-tight" }, "Patio de Maniobras")]), React.createElement('div', { key: 'grid', className: "grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-3" }, currentYard.map((slot, idx) => React.createElement(SlotCard, { key: slot.id, index: idx, type: "yard", data: slot, onClick: handleSlotClick })))])), sheetSelectorOpen && React.createElement('div', { key: 'sheet-modal', className: "fixed inset-0 z-50 flex items-center justify-center p-4" }, [React.createElement('div', { key: 'bg', className: "absolute inset-0 bg-stone-900/50 backdrop-blur-md transition-opacity animate-fade-in", onClick: () => setSheetSelectorOpen(false) }), React.createElement('div', { key: 'content', className: "relative bg-white dark:bg-stone-900 rounded-[2rem] shadow-2xl p-6 w-full max-w-sm overflow-hidden animate-scale-in border border-white dark:border-stone-700" }, [React.createElement('h3', { key: 'title', className: "text-xl font-bold text-stone-800 dark:text-stone-100 text-center mb-4" }, "Selecciona una Hoja"), React.createElement('div', { key: 'list', className: "space-y-2 max-h-[50vh] overflow-y-auto pr-2 no-scrollbar" }, sheetList.map(sheet => React.createElement('button', { key: sheet, onClick: () => handleSheetSelection(sheet), className: "w-full p-3 rounded-xl bg-stone-50 dark:bg-stone-800 hover:bg-indigo-50 dark:hover:bg-indigo-900/30 text-left flex items-center justify-between group transition-all active:scale-95" }, [React.createElement('div', { key: 'left', className: "flex items-center gap-3" }, [React.createElement(LucideIcon, { name: 'file-text', size: 18, className: "text-indigo-500" }), React.createElement('span', { className: "font-bold text-sm text-stone-700 dark:text-stone-200 truncate max-w-[180px]" }, sheet)]), React.createElement(LucideIcon, { name: 'arrow-right', size: 16, className: "text-stone-300 group-hover:text-indigo-500" })]))), React.createElement('button', { key: 'cancel', onClick: () => setSheetSelectorOpen(false), className: "mt-6 w-full py-3 text-stone-400 hover:text-stone-600 dark:hover:text-stone-200 font-medium text-sm transition-colors" }, "Cancelar")])]), cleanerOpen && React.createElement('div', { key: 'cleaner-modal', className: "fixed inset-0 z-50 flex items-center justify-center p-4" }, [React.createElement('div', { key: 'bg', className: `absolute inset-0 bg-stone-900/50 backdrop-blur-md transition-opacity ${isClosingCleaner ? 'animate-fade-out' : 'animate-fade-in'}`, onClick: closeCleanerAnimated }), React.createElement('div', { key: 'content', className: `relative bg-white dark:bg-stone-900 rounded-[2rem] shadow-2xl p-6 w-full max-w-sm overflow-hidden border border-white dark:border-stone-700 ${isClosingCleaner ? 'animate-scale-out' : 'animate-scale-in'}` }, [React.createElement('div', { key: 'header', className: "text-center mb-6" }, [React.createElement('div', { key: 'icon', className: "inline-flex p-3 rounded-full bg-red-50 dark:bg-red-900/20 text-red-500 mb-3" }, React.createElement(LucideIcon, { name: 'eraser', size: 28 })), React.createElement('h3', { key: 'title', className: "text-xl font-bold text-stone-800 dark:text-stone-100" }, "Limpieza"), React.createElement('p', { key: 'sub', className: "text-xs text-stone-400 mt-1" }, "¬øQu√© deseas borrar hoy?")]), React.createElement('button', { key: 'all', onClick: () => handleClean('all'), className: "w-full p-3 mb-4 rounded-xl bg-red-50 dark:bg-red-900/10 border border-red-100 dark:border-red-900/30 hover:bg-red-100 dark:hover:bg-red-900/30 text-red-600 dark:text-red-400 flex items-center gap-3 transition-all group active:scale-95" }, [React.createElement('div', { key: 'ic', className: "p-1.5 bg-white dark:bg-stone-800 rounded-lg shadow-sm" }, React.createElement(LucideIcon, { name: 'trash-2', size: 18 })), React.createElement('div', { key: 'txt', className: "text-left" }, [React.createElement('span', { key: 't', className: "block font-bold text-sm" }, "Borrar Todo"), React.createElement('span', { key: 's', className: "text-[10px] opacity-70" }, "Reiniciar inventario completo.")])]), React.createElement('div', { key: 'sep', className: "border-t border-stone-100 dark:border-stone-800 my-4" }), React.createElement('p', { key: 'label', className: "text-[10px] font-bold text-stone-400 uppercase tracking-widest mb-3 text-center" }, "Por Turno"), React.createElement('div', { key: 'shifts', className: "space-y-2" }, SHIFTS.map(shift => React.createElement('div', { key: shift, className: "p-3 rounded-xl bg-stone-50 dark:bg-stone-800/50" }, [React.createElement('div', { key: 'row', className: "flex justify-between items-center" }, [React.createElement('span', { key: 'name', className: "font-bold text-xs text-stone-700 dark:text-stone-200" }, `Turno ${shift}`), React.createElement('div', { key: 'btns', className: "flex gap-1.5" }, [React.createElement('button', { key: 'd', onClick: () => handleClean('shift', shift, 'docks'), className: "px-2.5 py-1.5 rounded-lg bg-white dark:bg-stone-700 shadow-sm text-[10px] font-bold text-stone-500 hover:text-red-500 transition-all active:scale-95" }, "Andenes"), React.createElement('button', { key: 'y', onClick: () => handleClean('shift', shift, 'yard'), className: "px-2.5 py-1.5 rounded-lg bg-white dark:bg-stone-700 shadow-sm text-[10px] font-bold text-stone-500 hover:text-red-500 transition-all active:scale-95" }, "Patio"), React.createElement('button', { key: 'a', onClick: () => handleClean('shift', shift, 'all'), className: "px-2.5 py-1.5 rounded-lg bg-red-100 dark:bg-red-900/30 text-[10px] font-bold text-red-600 hover:bg-red-200 transition-all active:scale-95" }, "Todo")])])]))), React.createElement('button', { key: 'cancel', onClick: closeCleanerAnimated, className: "mt-4 w-full py-3 text-stone-400 hover:text-stone-600 dark:hover:text-stone-200 font-medium text-sm transition-colors" }, "Cancelar")])]), modalOpen && React.createElement('div', { key: 'edit-modal', className: "fixed inset-0 z-50 flex items-end sm:items-center justify-center sm:p-4" }, [React.createElement('div', { key: 'bg', className: `absolute inset-0 bg-stone-900/30 dark:bg-black/60 backdrop-blur-md transition-opacity ${isClosingModal ? 'animate-fade-out' : 'animate-fade-in'}`, onClick: closeModalAnimated }), React.createElement('div', { key: 'content', className: `relative bg-white/95 dark:bg-stone-900/95 backdrop-blur-2xl rounded-t-[2rem] sm:rounded-[2.5rem] shadow-2xl w-full max-w-md overflow-hidden border-t border-white dark:border-stone-700 max-h-[85vh] flex flex-col ${isClosingModal ? 'mobile-sheet-exit' : 'mobile-sheet-enter'}` }, [React.createElement('div', { key: 'header', className: "px-6 pt-6 pb-4 flex justify-between items-start shrink-0" }, [React.createElement('div', { key: 'left' }, [React.createElement('h3', { key: 'title', className: "text-2xl font-bold text-stone-800 dark:text-stone-100 tracking-tight" }, [editingSlot.type === 'docks' ? 'And√©n' : 'Patio', ' ', React.createElement('span', { key: 'num', className: "text-indigo-600 dark:text-indigo-400" }, formData.number)]), React.createElement('p', { key: 'sub', className: "text-xs font-medium text-stone-400 mt-1 flex items-center gap-1" }, [React.createElement(LucideIcon, { name: 'sparkles', size: 12 }), editingSlot.type === 'docks' ? (formData.number <= 10 ? 'Zona Galleta' : 'Zona Salado') : 'Patio General'])]), React.createElement('button', { key: 'close', onClick: closeModalAnimated, className: "p-2 rounded-full hover:bg-stone-100 dark:hover:bg-stone-800 text-stone-400 transition-colors" }, React.createElement(LucideIcon, { name: 'x', size: 22 }))]), React.createElement('div', { key: 'body', className: "px-5 py-2 space-y-4 overflow-y-auto overscroll-contain flex-1" }, [React.createElement('div', { key: 'row1', className: "grid grid-cols-2 gap-3" }, [React.createElement('div', { key: 'eco', className: "space-y-1 group" }, [React.createElement('label', { className: "text-[10px] font-bold text-stone-400 uppercase tracking-wider ml-1" }, "Econ√≥mico"), React.createElement('input', { type: "text", name: "eco", value: formData.eco, onChange: handleInputChange, placeholder: "---", className: inputClass })]), React.createElement('div', { key: 'line', className: "space-y-1 group" }, [React.createElement('label', { className: "text-[10px] font-bold text-stone-400 uppercase tracking-wider ml-1" }, "L√≠nea"), React.createElement('input', { type: "text", name: "line", value: formData.line, onChange: handleInputChange, placeholder: "---", className: inputClass })])]), React.createElement('div', { key: 'row2', className: "grid grid-cols-2 gap-3" }, [React.createElement('div', { key: 'size', className: "space-y-1" }, [React.createElement('label', { className: "text-[10px] font-bold text-stone-400 uppercase tracking-wider ml-1" }, "FT"), React.createElement('div', { className: "relative group" }, [React.createElement('select', { name: "size", value: formData.size, onChange: handleInputChange, className: selectClass }, [React.createElement('option', { value: "" }, "---"), SIZES.map(s => React.createElement('option', { key: s, value: s }, s))]), React.createElement('div', { className: "absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-stone-400" }, React.createElement(LucideIcon, { name: 'chevron-down', size: 16 }))])]), React.createElement('div', { key: 'status', className: "space-y-1" }, [React.createElement('label', { className: "text-[10px] font-bold text-stone-400 uppercase tracking-wider ml-1" }, "Status"), React.createElement('div', { className: "relative group" }, [React.createElement('select', { name: "status", value: formData.status, onChange: handleInputChange, className: selectClass }, [React.createElement('option', { value: "" }, "Seleccionar"), (editingSlot.type === 'docks' ? DOCK_STATUSES : YARD_STATUSES).map(s => React.createElement('option', { key: s, value: s }, s))]), React.createElement('div', { className: "absolute right-4 top-1/2 -translate-y-1/2 pointer-events-none text-current opacity-50" }, React.createElement(LucideIcon, { name: 'chevron-down', size: 16 }))])])]), (formData.status === 'Frenteada' || formData.status === 'Cargada') && React.createElement('div', { key: 'seals', className: "bg-[#FFF7ED] dark:bg-amber-900/10 p-4 rounded-[1.5rem] border border-orange-100 dark:border-amber-900/30 animate-slide-up" }, [React.createElement('div', { key: 'label', className: "flex items-center gap-2 mb-3 text-orange-800 dark:text-amber-400 font-bold text-xs" }, [React.createElement(LucideIcon, { name: 'clipboard-list', size: 16 }), " Sellos de Seguridad"]), React.createElement('div', { key: 'inputs', className: "grid grid-cols-2 gap-3" }, [React.createElement('div', { key: 's1', className: "space-y-1" }, [React.createElement('label', { className: "text-[9px] text-orange-600/70 dark:text-amber-400/70 font-bold uppercase ml-1" }, "Sello #1"), React.createElement('input', { type: "text", name: "sealLeft", value: formData.sealLeft, onChange: handleInputChange, className: "w-full p-2.5 bg-white dark:bg-stone-800 border border-orange-200 dark:border-amber-700/50 rounded-xl text-sm dark:text-stone-200 focus:outline-none focus:border-orange-400 ring-2 ring-transparent focus:ring-orange-100 dark:focus:ring-amber-900/20 transition-all" })]), React.createElement('div', { key: 's2', className: "space-y-1" }, [React.createElement('label', { className: "text-[9px] text-orange-600/70 dark:text-amber-400/70 font-bold uppercase ml-1" }, "Sello #2 *"), React.createElement('input', { type: "text", name: "sealRight", value: formData.sealRight, onChange: handleInputChange, className: "w-full p-2.5 bg-white dark:bg-stone-800 border-2 border-orange-300 dark:border-amber-600/50 rounded-xl text-sm dark:text-stone-200 focus:outline-none focus:border-orange-500 ring-2 ring-transparent focus:ring-orange-100 dark:focus:ring-amber-900/20 font-medium transition-all", placeholder: "Requerido" })])])]), React.createElement('div', { key: 'obs', className: "space-y-1 group" }, [React.createElement('label', { className: "text-[10px] font-bold text-stone-400 uppercase tracking-wider ml-1" }, "Observaciones"), React.createElement('textarea', { name: "observations", value: formData.observations, onChange: handleInputChange, rows: 2, className: "w-full px-4 py-3 bg-stone-100/50 dark:bg-stone-900 hover:bg-stone-100 dark:hover:bg-stone-800 focus:bg-white dark:focus:bg-stone-950 border border-stone-200 dark:border-stone-700 rounded-2xl text-stone-700 dark:text-stone-200 font-medium ring-4 ring-transparent focus:ring-indigo-100 dark:focus:ring-indigo-900/30 outline-none resize-none placeholder:text-stone-300 transition-all text-sm", placeholder: "Notas adicionales..." })])]), React.createElement('div', { key: 'footer', className: "px-6 pb-8 pt-2 flex gap-3 shrink-0 bg-white/95 dark:bg-stone-900/95" }, [React.createElement('button', { key: 'clear', onClick: handleClearSlot, className: "flex-1 py-3.5 px-4 rounded-2xl bg-stone-100 dark:bg-stone-800 text-stone-500 dark:text-stone-400 font-bold hover:bg-rose-100 hover:text-rose-600 dark:hover:bg-rose-900/20 dark:hover:text-rose-300 transition-all duration-300 active:scale-95 text-sm" }, "Limpiar"), React.createElement('button', { key: 'save', onClick: handleSave, className: "flex-[2] py-3.5 px-4 rounded-2xl bg-stone-800 dark:bg-stone-200 text-white dark:text-stone-900 font-bold shadow-xl shadow-stone-300 dark:shadow-stone-900/50 hover:bg-stone-700 dark:hover:bg-white hover:-translate-y-1 transition-all duration-300 flex items-center justify-center gap-2 active:scale-95 text-sm" }, [React.createElement(LucideIcon, { name: 'save', size: 18 }), " Guardar"])])])]), settingsOpen && React.createElement('div', { key: 'settings-modal', className: "fixed inset-0 z-50 flex items-center justify-center p-4" }, [React.createElement('div', { key: 'bg', className: `absolute inset-0 bg-stone-900/30 dark:bg-black/60 backdrop-blur-md transition-opacity ${isClosingSettings ? 'animate-fade-out' : 'animate-fade-in'}`, onClick: closeSettingsAnimated }), React.createElement('div', { key: 'content', className: `relative bg-white/95 dark:bg-stone-900/95 backdrop-blur-2xl rounded-[2.5rem] shadow-2xl p-10 w-full max-w-sm overflow-hidden border border-white dark:border-stone-700 text-center ${isClosingSettings ? 'animate-scale-out' : 'animate-scale-in'}` }, [React.createElement('div', { key: 'body', className: "flex flex-col items-center gap-4" }, [React.createElement('div', { key: 'icon', className: "p-4 bg-indigo-50 dark:bg-indigo-900/20 rounded-full text-indigo-500 dark:text-indigo-400 animate-spin-slow" }, React.createElement(LucideIcon, { name: 'wrench', size: 40 })), React.createElement('h3', { key: 'title', className: "text-2xl font-bold text-stone-800 dark:text-stone-100" }, "En desarrollo :P"), React.createElement('p', { key: 'desc', className: "text-stone-400 dark:text-stone-500 font-medium" }, "Pronto podr√°s configurar m√°s opciones de tu inventario aqu√≠.")]), React.createElement('button', { key: 'close', onClick: closeSettingsAnimated, className: "mt-8 w-full py-4 px-6 rounded-2xl bg-stone-100 dark:bg-stone-800 text-stone-600 dark:text-stone-300 font-bold hover:bg-stone-200 dark:hover:bg-stone-700 transition-all duration-300 active:scale-95" }, "Entendido")])])]);
        }
        const root = ReactDOM.createRoot(document.getElementById('root')); root.render(React.createElement(App)); console.log('App loaded - Bundled version');
    </script>
</body>

</html>